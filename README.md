# GeneticAlgorithm-TSC
유전 알고리즘을 이용한 열차속도 최적화

## 유전 알고리즘이란?
유전 알고리즘(Genetic Algorithm)은 자연세계의 진화과정에 기초한 계산 모델로 최적화 문제를 찾는 기법 중 하나입니다. 생물의 진화를 모방한 진화 연산의 대표적인 기법으로, 쉽게 생각하면 가능한 좋은 해를 재생산하여 더 좋은 해를 찾는 방법입니다.  
실제 진화의 과정에서 많은 부분을 이용하며, 변이(돌연변이), 교배 연산 등을 이용합니다. 또한 세대, 인구 등의 용어도 문제 풀이 과정에서 사용됩니다.  
>[유전 알고리즘 위키백과](https://ko.wikipedia.org/wiki/%EC%9C%A0%EC%A0%84_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)

## 무엇을 할 건가?
공항철도의 최적의 운행 시간을 찾기.  
하루의 달리는 열차(약 100개)의 모든 구간(11개 구간)의 속도의 점수 구하기

## 어떻게 만들건가?
1. 기존 속도에 0과 1로 이루어진 속도 리스트를 더합니다. (01로 이루어진 리스트를 디코딩하여 10진수로 바꿈니다.)

2. 변한 속도가 얼마나 효율적인지  ScoreFunction로 점수를 구합니다.  

3. 해집단의 상위 save_value값과 roulettes함수(룰렛휠)통해 구한 값을 더해 Selected_list_in_roulette 리스트를 만듭니다.

4. Selected_list_in_roulette리스트안에 해집단을 교배 시켜 새로운 속도 리스트를 구합니다.

5. largest_generation만큼 1~4번을 반복합니다.

### 1~2 ScoreFunction
속도가 효율적일 수록 점수가 높아집니다.

### 3 Selected_list_in_roulette 만들기

#### 상위 save_value값 구하기
ScoreFunction로 구한 점수를 sorted하여 상위 save_value(5,7~~)값을 잘라냅니다.  
가장 우수한 해들의 해쉬값(몇번째 배열에 들어있는지)을 보존합니다.

#### roulettes함수(룰렛휠)통해 값 구하기

##### 룰렛휠이란? 
좋은 해가 높은 확률로 선택되고 나쁜 해도 선택될 확률을 주어 다양성을 높이는 방법입니다.  

```
# Step1 : 구간 정리
list <- ScoreFunction 통해 구한 점수, 적합도 구간, 해쉬값
적합도 비율 = 각 점수 / 총 점수
적합도 구간 = 이전 적합도 비율 + 현재 적합도 비율
```
```
# Step2 : 룰렛휠
rand함수로 0~1사이의 값을 만듭니다.
rand값이 위 list 적합도 구간에 속하면 해당 해쉬값을 선택합니다.
```

### 4 Change_parent 교배 및 변의
Selected_list_in_roulette에서 선택된 값들을 교배 및 변의를 해서 새로운 속도 리스트를 만듭니다.  
아래에 나오는 속도 리스트는 Selected_list_in_roulette에서 선택된 속도 리스트를 말합니다. 또한 아래는 모두 리스트 즉 배열(0부터 시작) 기준으로 작성하였습니다.
#### 교배
```
교배는 속도 리스트에  Pc(교배율 약 70%)만큼만 진행합니다.
속도 리스트에서 현재 속도값과 다음 속도값에 임의의 구간을 나뉘 해당 구간을 합칩니다.
# 현재 : 0101 다음 : 1111 -> 임의 구간 1 -> 0 101 1 111로 나누고 -> 1 101 0 111로 변경
```

#### 변의
```
1 / 100 * Pm(변의율 약 1000)의 확률로 진행합니다.
교배에서 사용한 임의의 구간에 있는 수를 반전 시킵니다.(0->1, 1->0)
# 속도리스트 0011 -> 임의 구간 1 -> 0 1 11
```

### 5 largest_generation(몇번 돌릴지 약 500) 만큼 반복
반복으로 하면 할 수록 점점 최적의 해에 가까워집니다.
